@page "/formulario_en_linea"
@using Data.Models;

<PageTitle>Formulario de solicitud de tema de tesis</PageTitle>
<h1>Formulario de solicitud de tema de tesis</h1>
<EditForm Model="@Formulario" OnValidSubmit="Enviar">
<ValidationSummary/>
<div class="row">
<div class="col-8">
    <label for="txtUnidadAcademica">Unidad Académica</label>
<InputText class="form-control" id="txtUnidadAcademica" @bind-Value="Formulario.UnidadAcademia"/>
</div>
<div class="col-2">
    <label for="txtMesG">Mes</label>
<InputNumber class="form-control" id="txtMesG" @bind-Value="Formulario.MesGraduacionProyeccion"/>
</div>
<div class="col-2">
    <label for="txtAnioG">Año</label>
<InputNumber class="form-control" id="txtAnioG" @bind-Value="Formulario.AnioGraduacionProyeccion"/>
</div>
</div>
<div class="row mt-3">
    <div class="col">
        <label for="txtProblema">Problema</label>
<InputText class="form-control" id="txtProblema" @bind-Value="Formulario.Problema"></InputText>
</div>
</div>
<div class="row mt-3">
    <div class="col">
        <label for="txtProblema">Justificacion</label>
<InputText class="form-control" id="txtJustificacion" @bind-Value="Formulario.Justificacion"></InputText>
</div>
</div>
<div class="row mt-3">
    <div class="col">
        <label for="txtProblema">Objetivo</label>
<InputText class="form-control" id="txtObjetivo" @bind-Value="Formulario.Objetivo"></InputText>

    </div>
</div>
 <div class="col">
        <label for="txtProblema">Titulo Propuesto</label>
<InputText class="form-control" id="txtTituloPropuesto" @bind-Value="Formulario.TituloPropuesto"></InputText>

</div>

 <div class="col">
        <label for="txtProblema">Preferencia de Asesor(a) </label>
<InputText class="form-control" id="txtPreferenciaAsesor" @bind-Value="Formulario.PreferenciaAsesor"></InputText>

</div>

<div class="mt-3">
<button type="submit" class="btn btn-success">Enviar</button>
</div>
</EditForm>

@code{
    public Formulario Formulario { get; set; } = new Formulario();

     async void Enviar(){
            var r = await FormularioServices.Crear(Formulario);
            if(r) Formulario = new Formulario ();
            Console.WriteLine(r);
    }

}